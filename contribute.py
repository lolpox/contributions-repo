import os
from datetime import datetime, timedelta
from subprocess import Popen

CUSTOM_DATES = [
    "2023-12-31", "2024-01-01", "2024-01-02", "2024-01-03", "2024-01-04", "2024-01-05", "2024-01-06",
    "2024-01-10", "2024-01-17",
    "2024-01-21", "2024-01-22", "2024-01-23", "2024-01-24", "2024-01-25", "2024-01-26", "2024-01-27",
    "2024-02-04", "2024-02-05", "2024-02-06", "2024-02-07", "2024-02-08", "2024-02-09", "2024-02-10",
    "2024-02-11", "2024-02-14", "2024-02-17", "2024-02-18", "2024-02-21", "2024-02-24", "2024-02-25",
    "2024-03-02", "2024-03-10", "2024-03-11", "2024-03-12", "2024-03-13", "2024-03-14", "2024-03-15", "2024-03-16",
    "2024-03-23", "2024-03-30",
    "2024-04-07", "2024-04-08", "2024-04-09", "2024-04-10", "2024-04-11", "2024-04-12", "2024-04-13",
    "2024-04-20", "2024-04-27",
    "2024-05-06", "2024-05-07", "2024-05-08", "2024-05-09", "2024-05-10", "2024-05-12",
    "2024-05-18", "2024-05-19", "2024-05-25", "2024-05-26",
    "2024-06-01", "2024-06-03", "2024-06-04", "2024-06-05", "2024-06-06", "2024-06-07",
    "2024-06-30", "2024-07-01", "2024-07-02", "2024-07-03",
    "2024-07-04", "2024-07-05", "2024-07-06", "2024-07-07",
    "2024-07-13", "2024-07-14", "2024-07-17", "2024-07-20", "2024-07-21", "2024-07-22", "2024-07-24", "2024-07-25",
    "2024-07-26", "2024-07-27",
    "2024-08-04", "2024-08-05", "2024-08-06", "2024-08-07", "2024-08-08", "2024-08-09", "2024-08-10", "2024-08-18",
    "2024-08-25", "2024-08-26", "2024-08-27", "2024-08-28", "2024-08-29", "2024-08-30", "2024-08-31",
    "2024-09-01", "2024-09-15", "2024-09-16", "2024-09-17", "2024-09-18", "2024-09-19", "2024-09-20", "2024-09-21",
    "2024-09-25",
    "2024-10-02", "2024-10-06", "2024-10-07", "2024-10-08", "2024-10-09", "2024-10-10", "2024-10-11", "2024-10-12",
    "2024-10-20", "2024-10-21", "2024-10-22", "2024-10-23", "2024-10-24", "2024-10-25",
    "2024-11-02", "2024-11-09", "2024-11-16", "2024-11-17", "2024-11-18", "2024-11-19", "2024-11-20", "2024-11-21",
    "2024-11-22",
    "2024-12-01", "2024-12-02", "2024-12-03", "2024-12-04", "2024-12-05", "2024-12-06", "2024-12-07", "2024-12-08",
    "2024-12-11", "2024-12-14", "2024-12-15", "2024-12-18", "2024-12-21", "2024-12-23", "2024-12-24",
    "2024-12-26", "2024-12-27"
]

def main():
    directory = "custom-contributions-repo"
    os.mkdir(directory)
    os.chdir(directory)
    run(["git", "init", "-b", "main"])

    for date in CUSTOM_DATES:
        create_contributions_for_date(date)

    print("Contributions added successfully!")

def create_contributions_for_date(date):
    base_date = datetime.strptime(date, "%Y-%m-%d")
    for i in range(5):
        commit_time = base_date + timedelta(hours=i * 3) 
        contribute(commit_time)

def contribute(date):
    with open(os.path.join(os.getcwd(), "README.md"), "a") as file:
        file.write(f"Contribution on {date.strftime('%Y-%m-%d %H:%M:%S')}\n")
    run(["git", "add", "."])
    run(["git", "commit", "-m", f"Contribution on {date.strftime('%Y-%m-%d %H:%M:%S')}",
         "--date", date.strftime("%Y-%m-%d %H:%M:%S")])

def run(commands):
    Popen(commands).wait()

if __name__ == "__main__":
    main()
